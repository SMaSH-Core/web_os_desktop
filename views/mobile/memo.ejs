<!DOCTYPE html>
<html ng-app="myApp" ng-controller="AppController">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <link href="/css/memo.css" rel="stylesheet" type="text/css">
         <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
        <script src="http://code.angularjs.org/1.2.0rc1/angular-route.min.js"></script>
        <script src="http://code.angularjs.org/1.2.0rc1/angular-touch.min.js"></script>
        <script src="/js/sidebar.js" type="text/javascript"></script>
        <script type="text/javascript"></script>
    </head>
    <body ng-swipe-left="showmenu=false" ng-swipe-right="showmenu=true">
      <!--  <video autoplay loop>
            <source src='/videos/flowers.webm' type='video/webm'>
        </video>-->
        
        <div style="height:100%;">
            <div id="menuleft" ng-class="{hide:!showmenu,slide:showmenu}">
              
                <ul >
                    <li><a href ="/mmain">HOME</a></li>
                    <li><a href ="/todo">TO DO LIST</a></li>
                    <li><a href ="/calendar">CALENDAR</a></li>
                    <li><a href ="/cloud">CLOUD</a></li>
                </ul>
            </div>

            <div id="all" ng-class="{hide:showmenu,slide:!showmenu}" >
                <div class="overlay" ng-class="{show:showmenu}" ng-click="showmenu=!showmenu"></div>
                <div id = "real">
                    <div id = "topbar">
                       <p ng-click="toggleMenu()" id = "sidebutton">â‰¡</p>
                        <div id="gsearch">
                            <form method="get" action="http://www.google.com/search" target="_blank">
                                <input type="text" name="q" size="30" >
                                <button type = "submit" >search</button>
                            </form>
                        </div>
                        <div id="info">
                            <!--<form action = "/logout" method="post">
                                <button  class="save logout" type = "submit">LOGOUT</button>
                            </form>-->
                            <button id="setting" ng-click="show_setting_li=!show_setting_li"><img src = "/images/Settings.png" /></button>
                        </div>
                    </div>
                    <ul id="setting_li" ng-show="show_setting_li">
                        <li id="user_info">USER INFO</li>
                        <li>
                            <form action = "/logout" method="post">
                                <button  class="save logout" type = "submit">LOGOUT</button>
                            </form>
                        </li>
                    </ul>
                    
                    <div id="memo" ng-controller="memoctrl">
                        <div id="memo_top">
                            <span>Memo</span><button class="list" ng-click="<%for(var i=0;i<widget.length;i++){%>memo<%=i%>=false<%}%>">=</button><button id="add">+</button><button class="save">+</button>
                        </div>
                        <ul id="memo_list">
                            <%
                                for(var i = 0; i < widget.length; i++){
                                    var title="";
                                    if (widget[i].memo.length<=10)
                                        title=widget[i].memo;
                                    else{
                                        for (var j=0; j<10;j++){
                                            title= title + widget[i].memo[j];
                                        }
                                        title = title + "...";
                                    }
                                    %>

                                    <li class="memo_title" ng-click="memo<%=i%>=!memo<%=i%>;memo=true"><%- title %></li>
                                    
                                <%}
                            %>
                        </ul>
                        <%
                        for(var i = 0; i < widget.length; i++){%>
                            <div class="memo_sec" ng-show="memo<%=i%>&&memo">
                                <div class="memo" >
                                    <textarea class="memo_txt" rows="10" cols="20"><%-widget[i].memo%></textarea>
                                </div>
                            </div>  
                        
                        <%}%>
                    </div>
    
                </div>
                
            </div>

       </div>
    </body>
</html>